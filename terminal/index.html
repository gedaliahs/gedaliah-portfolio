<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>terminal</title>
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'JetBrains Mono', 'Fira Code', 'SF Mono', 'Cascadia Code', 'Courier New', monospace;
      background: #0c0c0c;
      color: #33ff33;
      min-height: 100vh;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding: 40px 20px;
      font-size: 13px;
      line-height: 1.7;
    }
    .terminal-window {
      width: 100%;
      max-width: 820px;
      background: #0a0a0a;
      border-radius: 10px;
      box-shadow: 0 20px 80px rgba(0, 0, 0, 0.8), 0 0 1px rgba(255, 255, 255, 0.05);
      overflow: hidden;
      border: 1px solid #1a1a1a;
    }
    .title-bar {
      background: linear-gradient(180deg, #2a2a2a 0%, #1e1e1e 100%);
      padding: 10px 16px;
      display: flex;
      align-items: center;
      gap: 8px;
      border-bottom: 1px solid #111;
      -webkit-user-select: none;
      user-select: none;
    }
    .title-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
    }
    .dot-red { background: #ff5f57; }
    .dot-yellow { background: #febc2e; }
    .dot-green { background: #28c840; }
    .title-text {
      flex: 1;
      text-align: center;
      color: #666;
      font-size: 12px;
      margin-right: 52px;
    }
    .terminal-body {
      padding: 20px;
      min-height: 60vh;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
    }
    .terminal-body::before {
      content: '';
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 2px,
        rgba(0, 0, 0, 0.03) 2px,
        rgba(0, 0, 0, 0.03) 4px
      );
      pointer-events: none;
      z-index: 10;
    }
    #output { white-space: pre-wrap; word-break: break-word; }
    #output > div {
      padding: 1px 0;
    }
    .input-line {
      display: flex;
      align-items: center;
      margin-top: 4px;
    }
    .prompt { margin-right: 8px; white-space: nowrap; }
    .prompt .user { color: #28c840; }
    .prompt .sep { color: #555; }
    .prompt .path { color: #4d96ff; }
    .prompt .dollar { color: #888; }
    #input {
      background: none;
      border: none;
      color: #33ff33;
      font-family: 'JetBrains Mono', 'Fira Code', 'SF Mono', 'Cascadia Code', 'Courier New', monospace;
      font-size: 13px;
      flex: 1;
      outline: none;
      caret-color: transparent;
    }
    .cursor {
      display: inline-block;
      width: 8px;
      height: 16px;
      background: #33ff33;
      animation: blink 1s step-end infinite;
      vertical-align: text-bottom;
      margin-left: 1px;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }
    .dim { color: #2d6b2d; }
    .bright { color: #66ff66; text-shadow: 0 0 8px rgba(51, 255, 51, 0.4); }
    .red { color: #ff4444; }
    .yellow { color: #ffd93d; }
    .blue { color: #4d96ff; }
    .pink { color: #ff6bd6; }
    a { color: #5bf; text-decoration: none; border-bottom: 1px solid rgba(85, 187, 255, 0.3); transition: border-color 0.2s; }
    a:hover { border-color: #5bf; }
    ::selection { background: rgba(51, 255, 51, 0.2); color: #66ff66; }
    .terminal-body::-webkit-scrollbar { width: 6px; }
    .terminal-body::-webkit-scrollbar-track { background: transparent; }
    .terminal-body::-webkit-scrollbar-thumb { background: #222; border-radius: 3px; }
    .terminal-body::-webkit-scrollbar-thumb:hover { background: #333; }
    @media (max-width: 600px) {
      body { padding: 0; }
      .terminal-window { border-radius: 0; max-width: 100%; border: none; }
      .terminal-body { min-height: 90vh; max-height: 100vh; padding: 16px; }
    }
  </style>
</head>
<body>
  <div class="terminal-window">
    <div class="title-bar">
      <div class="title-dot dot-red"></div>
      <div class="title-dot dot-yellow"></div>
      <div class="title-dot dot-green"></div>
      <div class="title-text">visitor@dylic.dev: ~</div>
    </div>
    <div class="terminal-body" id="terminal-body">
      <div id="output"></div>
      <div class="input-line">
        <span class="prompt"><span class="user">visitor@dylic.dev</span><span class="sep">:</span><span class="path">~</span><span class="dollar">$</span></span>
        <input type="text" id="input" autofocus autocomplete="off" spellcheck="false">
        <span class="cursor"></span>
      </div>
    </div>
  </div>

  <script>
    var output = document.getElementById('output');
    var input = document.getElementById('input');
    var cmdHistory = [];
    var historyIdx = -1;
    var attackCount = 0;

    function esc(str) {
      var d = document.createElement('div');
      d.textContent = str;
      return d.innerHTML;
    }

    function print(text, cls) {
      var line = document.createElement('div');
      if (cls) line.className = cls;
      line.innerHTML = text;
      output.appendChild(line);
      var tb = document.getElementById('terminal-body'); tb.scrollTop = tb.scrollHeight;
    }

    function printSafe(text, cls) {
      var line = document.createElement('div');
      if (cls) line.className = cls;
      line.textContent = text;
      output.appendChild(line);
      var tb = document.getElementById('terminal-body'); tb.scrollTop = tb.scrollHeight;
    }

    function typewriter(lines, cls, delay) {
      delay = delay || 80;
      var i = 0;
      function next() {
        if (i < lines.length) {
          print(lines[i], cls);
          i++;
          setTimeout(next, delay);
        }
      }
      next();
    }

    print('dylic.dev terminal v2.0.0', 'bright');
    print('type "help" to see available commands.', 'dim');
    print('');

    var xssPatterns = [
      /<\s*script/i, /<\s*img/i, /<\s*svg/i, /<\s*iframe/i, /<\s*object/i,
      /<\s*embed/i, /<\s*link/i, /<\s*style/i, /<\s*body/i, /<\s*input/i,
      /onerror\s*=/i, /onload\s*=/i, /onclick\s*=/i, /onmouseover\s*=/i,
      /onfocus\s*=/i, /onblur\s*=/i,
      /javascript\s*:/i, /vbscript\s*:/i, /data\s*:\s*text\/html/i,
      /alert\s*\(/i, /confirm\s*\(/i, /prompt\s*\(/i,
      /document\.cookie/i, /document\.write/i, /document\.location/i,
      /window\.location/i, /\.innerHTML/i,
      /eval\s*\(/i, /setTimeout\s*\(/i, /setInterval\s*\(/i,
      /new\s+Function/i, /fetch\s*\(/i, /XMLHttpRequest/i,
      /\.src\s*=/i, /\.href\s*=/i,
      /fromCharCode/i, /decodeURI/i, /atob\s*\(/i,
      /&#\d+;/, /&#x[0-9a-f]+;/i, /%3[cC]/, /%3[eE]/,
      /\\\x[0-9a-f]{2}/i, /\\\u[0-9a-f]{4}/i
    ];

    var sqlPatterns = [
      /'\s*OR\s+/i, /'\s*AND\s+/i, /'\s*;\s*DROP/i, /'\s*;\s*DELETE/i,
      /'\s*;\s*INSERT/i, /'\s*;\s*UPDATE/i, /'\s*;\s*SELECT/i,
      /UNION\s+SELECT/i, /UNION\s+ALL/i,
      /SELECT\s+.*\s+FROM/i, /DROP\s+TABLE/i, /DROP\s+DATABASE/i,
      /DELETE\s+FROM/i, /INSERT\s+INTO/i, /UPDATE\s+.*\s+SET/i,
      /OR\s+1\s*=\s*1/i, /OR\s+'1'\s*=\s*'1'/i, /OR\s+TRUE/i,
      /--\s*$/, /\/\*.*\*\//, /EXEC\s*\(/i, /EXECUTE\s/i,
      /xp_cmdshell/i, /sp_executesql/i,
      /INFORMATION_SCHEMA/i, /LOAD_FILE/i, /INTO\s+OUTFILE/i,
      /BENCHMARK\s*\(/i, /SLEEP\s*\(/i, /WAITFOR\s+DELAY/i
    ];

    var traversalPatterns = [
      /\.\.\//,  /\.\.\\/,
      /\/etc\/passwd/i, /\/etc\/shadow/i, /\/etc\/hosts/i,
      /\/proc\/self/i, /\/dev\/null/i,
      /C:\\Windows/i, /C:\\Users/i,
      /~\/\.ssh/i, /~\/\.bash/i, /~\/\.zsh/i,
      /\/var\/log/i, /\/tmp\//i
    ];

    var injectionPatterns = [
      /;\s*ls/i, /;\s*cat/i, /;\s*rm/i, /;\s*wget/i, /;\s*curl/i,
      /\|\s*cat/i, /\|\s*sh/i, /\|\s*bash/i, /\|\s*nc\s/i,
      /&&\s*rm/i, /&&\s*cat/i, /&&\s*wget/i,
      /`[^`]+`/, /\$\([^)]+\)/, /\$\{[^}]+\}/
    ];

    var reconPatterns = [
      /\bnmap\b/i, /\bnikto\b/i, /\bsqlmap\b/i, /\bdirb\b/i,
      /\bgobuster\b/i, /\bmetasploit\b/i, /\bburpsuite\b/i, /\bburp\b/i,
      /\bhydra\b/i, /\bjohn\b/i, /\bhashcat\b/i,
      /\bnc\s+-l/i, /\bnetcat\b/i, /\breverse.?shell/i,
      /\bbind.?shell/i, /\/bin\/sh/i, /\/bin\/bash/i
    ];

    var xssResponses = [
      'oh no, a script tag! i am so vulnerable right now. just kidding. everything is escaped.',
      'you really thought innerHTML would save you here? cute.',
      'i sanitize my inputs. unlike some websites i know.',
      'that\'s a nice XSS payload. would be a shame if someone... escaped it.',
      'Content-Security-Policy says hi.',
      'ah yes, the classic. tried and true. also tried and failed.',
      'i see you\'ve read the OWASP top 10. gold star.',
      '*yawns in textContent*',
      'my developer saw this coming from a mile away. literally, it was the first thing they fixed.',
      'you know what? i respect the attempt. but no.'
    ];

    var sqlResponses = [
      'there\'s no database here, friend. it\'s a static site. the SQL has nowhere to go.',
      'DROP TABLE? the only table here is the one i\'m turning on you. (that doesn\'t make sense and i don\'t care.)',
      'i appreciate that you tried SQL injection on a site with zero SQL. really. that takes commitment.',
      'SELECT * FROM compliments WHERE target = \'you\'; -- you\'re good at this. wrong target though.',
      'bobby tables called. he wants his joke back.',
      '1=1 is true. you know what else is true? this won\'t work.',
      'the database is in another castle.',
      'imagine writing a whole UNION SELECT and the backend is just... HTML files.',
    ];

    var traversalResponses = [
      'looking for /etc/passwd on a static site hosted on vercel. i admire the optimism.',
      '../../../ all you want. there\'s nowhere to traverse to.',
      'the files are coming from inside the browser! (that\'s literally how static sites work.)',
      'you can\'t path-traverse a website that\'s just vibes and HTML.',
      'there is no filesystem. there is no server. there is only zuul. i mean vercel.',
    ];

    var injectionResponses = [
      'nice pipe. nice semicolon. none of it runs.',
      'this isn\'t a real shell. your command injection has been noted and giggled at.',
      'you\'re trying to chain commands in a fake terminal. i love the energy.',
      'the only thing getting executed here is JavaScript. and not YOUR JavaScript.',
      '`backticks` don\'t work here. nothing works here. it\'s all a beautiful lie.',
    ];

    var reconResponses = [
      'nmap? on a static site? scanning for open ports on HTML files?',
      'ah, a fellow hacker. unfortunately this is a fake terminal on a portfolio site.',
      'you brought pentesting tools to an easter egg fight.',
      'i mean, you could scan dylic.dev... but you\'d just find vercel.',
      'the vulnerability is that you\'re still here typing commands into a fake terminal.',
      'threat level: adorable.',
    ];

    function detectAttack(val) {
      for (var i = 0; i < xssPatterns.length; i++) {
        if (xssPatterns[i].test(val)) return 'xss';
      }
      for (var i = 0; i < sqlPatterns.length; i++) {
        if (sqlPatterns[i].test(val)) return 'sql';
      }
      for (var i = 0; i < traversalPatterns.length; i++) {
        if (traversalPatterns[i].test(val)) return 'traversal';
      }
      for (var i = 0; i < injectionPatterns.length; i++) {
        if (injectionPatterns[i].test(val)) return 'injection';
      }
      for (var i = 0; i < reconPatterns.length; i++) {
        if (reconPatterns[i].test(val)) return 'recon';
      }
      return null;
    }

    function randomFrom(arr) {
      return arr[Math.floor(Math.random() * arr.length)];
    }

    function handleAttack(type) {
      attackCount++;
      var responses = {
        xss: xssResponses,
        sql: sqlResponses,
        traversal: traversalResponses,
        injection: injectionResponses,
        recon: reconResponses
      };
      print(randomFrom(responses[type]), 'pink');

      if (attackCount === 3) {
        print('');
        print('you\'ve tried ' + attackCount + ' attacks now. just so you know, i\'m keeping count.', 'dim');
      } else if (attackCount === 5) {
        print('');
        print('that\'s ' + attackCount + '. at this point you should just email me: dylicdev@gmail.com', 'dim');
      } else if (attackCount === 10) {
        print('');
        print('TEN attacks. you\'re dedicated. i like you. seriously, let\'s talk.', 'bright');
        print('<a href="mailto:dylicdev@gmail.com">dylicdev@gmail.com</a>', 'bright');
      } else if (attackCount === 20) {
        print('');
        print('ok at this point you\'re just stress-testing my response pool.', 'yellow');
      }
    }

    var commands = {
      help: function() {
        print('<span class="bright">available commands:</span>');
        print('  help          show this message');
        print('  about         who is dylic?');
        print('  projects      list projects');
        print('  skills        what i work with');
        print('  contact       get in touch');
        print('  ls            list files');
        print('  cat [file]    read a file');
        print('  whoami        who are you?');
        print('  history       command history');
        print('  uptime        how long you\'ve been here');
        print('  date          current date');
        print('  clear         clear screen');
        print('  exit          leave the terminal');
        print('');
        print('  ...there are more. try things.', 'dim');
      },
      about: function() {
        print('dylic - builds things on the web.');
        print('some of it is useful. some of it is just fun to figure out.');
        print('you\'re currently exploring one of the fun ones.');
      },
      projects: function() {
        print('<span class="bright">projects/</span>');
        print('  semryn       <a href="https://semryn.com" target="_blank">semryn.com</a>');
        print('  backedby     <a href="https://backedby.app" target="_blank">backedby.app</a>');
        print('  matchly      <a href="https://matchly.dylic.dev" target="_blank">matchly.dylic.dev</a>');
        print('  hru          <a href="https://hru.page" target="_blank">hru.page</a>');
      },
      skills: function() {
        print('<span class="bright">languages:</span>  JavaScript, TypeScript, Python, HTML/CSS');
        print('<span class="bright">frontend:</span>   React, Next.js, Tailwind, Framer Motion');
        print('<span class="bright">backend:</span>    Node.js, Express, PostgreSQL, Firebase');
        print('<span class="bright">tools:</span>      Git, Vercel, Figma, VS Code');
        print('<span class="bright">vibes:</span>      immaculate');
      },
      contact: function() {
        print('email:   <a href="mailto:dylicdev@gmail.com">dylicdev@gmail.com</a>');
        print('discord: <a href="https://discordapp.com/users/713434612503937095" target="_blank">click here</a>');
      },
      ls: function(args) {
        var flag = args[0] || '';
        if (flag === '-la' || flag === '-al' || flag === '-a') {
          print('drwxr-xr-x  dylic  staff  4096  Jan 15 03:21  .');
          print('drwxr-xr-x  dylic  staff  4096  Jan 15 03:21  ..');
          print('-rw-r--r--  dylic  staff   142  Jan 15 03:21  .hidden');
          print('-rw-------  dylic  staff   248  Jan 15 03:21  .env');
          print('drwxr-xr-x  dylic  staff  4096  Jan 15 03:21  .git/');
          print('-rw-r--r--  dylic  staff  1847  Jan 15 03:21  index.html');
          print('-rw-r--r--  dylic  staff   923  Jan 15 03:21  style.css');
          print('-rw-r--r--  dylic  staff  2104  Jan 15 03:21  favicon.svg');
          print('-rw-r--r--  dylic  staff  4521  Jan 15 03:21  og-image.png');
          print('-rw-r--r--  dylic  staff    82  Jan 15 03:21  robots.txt');
          print('-rw-r--r--  dylic  staff    97  Jan 15 03:21  humans.txt');
          print('-rw-r--r--  dylic  staff   217  Jan 15 03:21  todo.txt');
          print('-rw-r--r--  dylic  staff   404  Jan 15 03:21  404.html');
          print('drwxr-xr-x  dylic  staff  4096  Jan 15 03:21  src/');
          print('drwxr-xr-x  dylic  staff  4096  Jan 15 03:21  logs/');
          print('-rw-r--r--  dylic  staff   666  Jan 15 03:21  secrets.txt');
        } else {
          print('index.html   style.css   favicon.svg   og-image.png');
          print('.hidden      robots.txt  humans.txt    todo.txt');
          print('.env         .git/       src/          logs/');
        }
      },
      cat: function(args) {
        var file = args[0];
        if (!file) { print('usage: cat [filename]', 'red'); return; }
        var files = {
          '.hidden': 'there are pages on this site you won\'t find by clicking around.\nyou have to guess the URLs. or look at the source.',
          '.env': 'DB_HOST=localhost\nDB_USER=dylic\nDB_PASS=nice_try_lol\nSECRET_KEY=aGlkZGVuIHBhZ2VzOiAvc291cmNlLCAvc3NoLCAvZGVidWcsIC9jaGFuZ2Vsb2csIC9hcGk=\nNODE_ENV=production\nDEBUG=false\n\n# this is a static site. none of these do anything.',
          'robots.txt': 'User-agent: *\nAllow: /\n\n# hey robot, if you\'re sentient, blink twice',
          'humans.txt': '/* the humans responsible for this site */\nDeveloper: Dylic\nPowered by: coffee and vibes',
          'todo.txt': '[ ] close /ssh before someone finds it\n[x] hide easter eggs everywhere\n[ ] sleep\n[x] make /debug look like a real crash\n[ ] delete /source before it leaks creds\n[ ] figure out why /tea exists',
          'index.html': '<!DOCTYPE html>\n<html>\n  <!-- you\'re reading a file inside a fake terminal -->\n  <!-- inception levels of web development -->\n</html>',
          '404.html': '<!DOCTYPE html>\n<html>\n  <body>\n    <h1>you\'re lost</h1>\n    <p>but that\'s ok. some of the best pages are the ones you stumble into.</p>\n  </body>\n</html>',
          'secrets.txt': 'nice try. you think i\'d put real secrets in a fake filesystem?\n\n...ok fine. the konami code works on the main page.',
          'style.css': '/* i could show you the CSS but honestly */\n/* it\'s just a green terminal. you get it. */\nbody { color: #33ff33; background: #0a0a0a; }\n/* that\'s basically it */\n/* the real magic is in the JS */',
        };
        if (files[file]) {
          print(files[file]);
        } else {
          print('cat: ' + esc(file) + ': No such file or directory', 'red');
        }
      },
      cd: function(args) {
        var dir = args[0] || '~';
        if (dir === '/' || dir === '~' || dir === '.') {
          print('you\'re already home. there\'s nowhere else to go.');
        } else if (dir === '..') {
          print('you can\'t go up. this is it. this is the whole filesystem.');
        } else if (dir === 'src' || dir === 'src/') {
          print('drwxr-xr-x  src/', 'dim');
          print('  easter-eggs.js   terminal.js   secrets.js');
          print('  (none of these are real. but you knew that.)');
        } else if (dir === 'logs' || dir === 'logs/') {
          print('drwxr-xr-x  logs/', 'dim');
          print('  access.log   error.log   visitors.log');
          print('  (these are fake too. i don\'t log visitors. promise.)');
        } else {
          print('cd: ' + esc(dir) + ': No such directory', 'red');
        }
      },
      pwd: function() {
        print('/home/visitor/dylic.dev');
      },
      whoami: function() {
        print('visitor. but you already knew that.');
        print('the real question is: how did you find this terminal?');
      },
      id: function() {
        print('uid=1000(visitor) gid=1000(guests) groups=1000(guests),27(curious-people)');
      },
      hostname: function() {
        print('dylic.dev');
      },
      uname: function(args) {
        if (args[0] === '-a') {
          print('DylicOS 2.0.0 dylic.dev 6.1.0-browser #1 SMP HTML5 x86_64 JavaScript/V8');
        } else {
          print('DylicOS');
        }
      },
      uptime: function() {
        var now = Date.now();
        var seconds = Math.floor((now - startTime) / 1000);
        var mins = Math.floor(seconds / 60);
        var secs = seconds % 60;
        if (mins > 0) {
          print('you\'ve been here for ' + mins + 'm ' + secs + 's. having fun?');
        } else {
          print('you\'ve been here for ' + secs + 's. just getting started.');
        }
      },
      date: function() {
        print(new Date().toString());
      },
      history: function() {
        if (cmdHistory.length === 0) {
          print('no history yet. type something!', 'dim');
          return;
        }
        for (var i = cmdHistory.length - 1; i >= 0; i--) {
          printSafe('  ' + (cmdHistory.length - i) + '  ' + cmdHistory[i]);
        }
      },
      echo: function(args) {
        if (args.length === 0) {
          print('');
          return;
        }
        printSafe(args.join(' '));
      },
      fortune: function() {
        var fortunes = [
          'you will find an easter egg today. oh wait, you already did.',
          'try /source. there\'s some interesting comments in there.',
          'the best code is the code nobody knows exists.',
          'you are poking around a stranger\'s website at ' + new Date().toLocaleTimeString() + '. and that\'s ok.',
          'not all pages on this site are linked. some you have to guess.',
          'the answer is always 42.',
          'you have great taste in websites.',
          'somewhere on this site, there\'s a fake crash report.',
          'try dragging the logo on the main page.',
          'the konami code works on the main page. just saying.',
          'cat .env for a surprise.',
          'there\'s a fake git log at /changelog.',
          '/ssh is open. probably shouldn\'t be.',
          'there\'s a page called /tea. it does exactly what you think.',
          'have you tried the admin panel? /admin or /wp-admin.',
          'the base64 in .env actually decodes to something.',
          'run "ls -la" for more files.',
        ];
        print(randomFrom(fortunes), 'yellow');
      },
      cowsay: function(args) {
        var msg = esc(args.join(' ') || 'moo');
        var border = '-'.repeat(msg.length + 2);
        print(' ' + border);
        print('| ' + msg + ' |');
        print(' ' + border);
        print('        \\   ^__^');
        print('         \\  (oo)\\_______');
        print('            (__)\\       )\\/\\');
        print('                ||----w |');
        print('                ||     ||');
      },
      sudo: function(args) {
        var cmd = args.join(' ');
        if (cmd === 'hire dylic') {
          print('permission granted. sending resume...', 'bright');
          print('just kidding. but you should email: dylicdev@gmail.com');
        } else if (cmd === 'su' || cmd === 'su -' || cmd === '-i') {
          print('[sudo] password for visitor:', 'dim');
          print('just kidding. you\'re not getting root on a static site.');
        } else if (cmd.indexOf('rm') !== -1) {
          print('sudo: nice escalation attempt. denied with love.', 'pink');
        } else {
          print('nice try. you\'re not root here.', 'red');
          print('this incident will be reported. (it won\'t.)');
        }
      },
      su: function() {
        print('su: authentication failure');
        print('(there are no other users. it\'s just you and me.)', 'dim');
      },
      rm: function(args) {
        var full = args.join(' ');
        if (full.indexOf('-rf') !== -1) {
          print('nice try.', 'red');
          print('');
          print('  rm: cannot remove \'everything\': Permission denied');
          print('  rm: also, this is a static site');
          print('  rm: there is no filesystem');
          print('  rm: what are you even doing');
        } else {
          print('rm: missing operand', 'red');
        }
      },
      chmod: function(args) {
        if (args[0] === '777') {
          print('chmod: setting everything to 777? what are you, a tutorial from 2009?', 'pink');
        } else {
          print('chmod: operation not permitted (you\'re a guest, remember?)', 'red');
        }
      },
      chown: function() {
        print('chown: you can\'t own what doesn\'t exist.', 'red');
        print('well, the site exists. but the filesystem doesn\'t.', 'dim');
      },
      wget: function(args) {
        if (args.length > 0) {
          print('connecting to ' + esc(args[0]) + '...', 'dim');
          setTimeout(function() {
            print('just kidding. i can\'t wget anything. i\'m a div with an input field.', 'dim');
          }, 1000);
        } else {
          print('wget: missing URL', 'red');
        }
      },
      ssh: function() {
        print('connecting to dylic.dev...', 'dim');
        setTimeout(function() {
          print('or you could just visit <a href="/ssh">/ssh</a>', 'dim');
        }, 1500);
      },
      curl: function(args) {
        var url = args[0] || '';
        if (url.indexOf('/api') !== -1 || url.indexOf('api') !== -1) {
          print('{"status":"use a real browser","hint":"/api"}', 'yellow');
        } else if (url) {
          print('curl: (6) Could not resolve host: ' + esc(url), 'red');
          print('(i\'m a fake terminal. i can\'t make HTTP requests.)', 'dim');
        } else {
          print('curl: try curl /api', 'dim');
        }
      },
      git: function(args) {
        if (args[0] === 'log') {
          print('see <a href="/changelog">/changelog</a> for the full log', 'dim');
        } else if (args[0] === 'blame') {
          print('it was dylic. it\'s always dylic.');
        } else if (args[0] === 'status') {
          print('On branch main');
          print('nothing to commit, working tree clean');
          print('');
          print('(it\'s always clean. it\'s a static site.)', 'dim');
        } else if (args[0] === 'push') {
          print('everything up-to-date');
          print('(vercel deploys on push. if this were real, it would be live already.)', 'dim');
        } else {
          print('fatal: not a git repository', 'red');
          print('(or is it? try /changelog)', 'dim');
        }
      },
      vim: function() {
        print('you opened vim. good luck getting out.', 'red');
        print('');
        print('just kidding. try :q', 'dim');
      },
      ':q': function() {
        print('you escaped vim. not many can say that.', 'bright');
      },
      ':q!': function() {
        print('you FORCE quit vim. you\'ve done this before.', 'bright');
      },
      ':wq': function() {
        print('saving... done. (nothing was actually saved.)', 'bright');
      },
      nano: function() {
        print('a person of culture, i see.');
      },
      emacs: function() {
        print('ah, an emacs user. i respect you but i also fear you.');
      },
      top: function() {
        print('PID   USER     CPU%  MEM%  COMMAND');
        print('1     visitor  0.0   0.1   /bin/curiosity');
        print('42    dylic    0.0   0.0   /bin/easter-eggs');
        print('404   nobody   0.0   0.0   /bin/not-found');
        print('666   root     0.0   0.0   /bin/secrets');
        print('');
        print('load average: chill, very chill, extremely chill', 'dim');
      },
      ps: function() {
        print('  PID TTY          TIME CMD');
        print('    1 pts/0    00:00:00 bash (fake)');
        print('   42 pts/0    00:00:00 curiosity');
        print('  100 pts/0    00:00:00 ps');
      },
      kill: function(args) {
        if (args[0] === '-9' || args.length > 0) {
          print('you can\'t kill what was never truly alive.', 'pink');
        } else {
          print('kill what? (try "kill -9 1" if you\'re feeling dramatic)', 'dim');
        }
      },
      man: function(args) {
        if (!args[0]) {
          print('What manual page do you want?', 'red');
          return;
        }
        if (args[0] === 'dylic') {
          print('DYLIC(1)                    User Commands                    DYLIC(1)');
          print('');
          print('NAME');
          print('       dylic - a web developer');
          print('');
          print('SYNOPSIS');
          print('       dylic [--code] [--design] [--ship]');
          print('');
          print('DESCRIPTION');
          print('       builds things on the internet. sometimes they\'re useful.');
          print('       sometimes they\'re fake terminals on portfolio sites.');
          print('');
          print('SEE ALSO');
          print('       hire(1), coffee(1), sleep(1)');
        } else if (commands[args[0]]) {
          print('no manual entry for ' + esc(args[0]));
          print('(this is a fake terminal. the man pages are imaginary.)', 'dim');
        } else {
          print('No manual entry for ' + esc(args[0]), 'red');
        }
      },
      grep: function(args) {
        if (args.length === 0) {
          print('usage: grep [pattern] [file]', 'red');
          return;
        }
        var term = args[0].toLowerCase();
        if (term === 'secret' || term === 'secrets' || term === 'hidden') {
          print('.hidden:there are pages on this site you won\'t find by clicking around.', 'yellow');
          print('.env:SECRET_KEY=aGlkZGVuIHBhZ2VzOi...', 'yellow');
          print('todo.txt:[ ] delete /source before it leaks creds', 'yellow');
        } else if (term === 'password' || term === 'pass') {
          print('.env:DB_PASS=nice_try_lol', 'yellow');
          print('');
          print('(...what were you expecting?)', 'dim');
        } else {
          print('(no results. but nice try.)', 'dim');
        }
      },
      find: function(args) {
        if (args.length === 0) {
          print('.');
          print('./index.html');
          print('./style.css');
          print('./.hidden');
          print('./.env');
          print('./.git');
          print('./src');
          print('./logs');
          return;
        }
        var term = args.join(' ').toLowerCase();
        if (term.indexOf('secret') !== -1 || term.indexOf('flag') !== -1 || term.indexOf('password') !== -1) {
          print('./nice-try.txt', 'pink');
        } else {
          print('find: no results for ' + esc(args.join(' ')), 'dim');
        }
      },
      head: function(args) {
        if (!args[0]) { print('usage: head [file]', 'red'); return; }
        print('head: use "cat" instead. i only wrote one file reader.', 'dim');
      },
      tail: function(args) {
        if (!args[0]) { print('usage: tail [file]', 'red'); return; }
        print('tail: use "cat" instead. same reason as head.', 'dim');
      },
      touch: function(args) {
        if (!args[0]) { print('usage: touch [file]', 'red'); return; }
        print('touch: read-only file system', 'red');
        print('(you can look but you can\'t touch. wait...)', 'dim');
      },
      mkdir: function() {
        print('mkdir: read-only file system', 'red');
        print('(there\'s no room. it\'s just HTML all the way down.)', 'dim');
      },
      cp: function() {
        print('cp: operation not permitted', 'red');
      },
      mv: function() {
        print('mv: operation not permitted. everything stays where it is.', 'red');
      },
      which: function(args) {
        if (!args[0]) { print('usage: which [command]', 'red'); return; }
        if (commands[args[0]]) {
          print('/usr/local/bin/' + esc(args[0]));
        } else {
          print(esc(args[0]) + ' not found', 'red');
        }
      },
      type: function(args) {
        if (!args[0]) { print('usage: type [command]', 'red'); return; }
        if (commands[args[0]]) {
          print(esc(args[0]) + ' is a shell builtin (sort of)');
        } else {
          print(esc(args[0]) + ': not found', 'red');
        }
      },
      alias: function() {
        print('alias ll=\'ls -la\'');
        print('alias please=\'sudo\'');
        print('alias yolo=\'rm -rf /\'');
        print('');
        print('(none of these are real.)', 'dim');
      },
      please: function(args) {
        commands.sudo(args);
      },
      weather: function() {
        print('the weather inside this terminal is a steady 72F with green overtones.');
        print('humidity: 0% (it\'s a computer)');
        print('');
        print('forecast: 100% chance of easter eggs', 'yellow');
      },
      rickroll: function() {
        print('never gonna give you up', 'bright');
        print('never gonna let you down', 'bright');
        print('never gonna run around and desert you', 'bright');
        print('');
        print('you asked for this.', 'dim');
      },
      lolcat: function() {
        var text = 'dylic.dev';
        var colors = ['red', 'yellow', 'bright', 'blue', 'pink'];
        var result = '';
        for (var i = 0; i < text.length; i++) {
          result += '<span class="' + colors[i % colors.length] + '">' + text[i] + '</span>';
        }
        print(result);
      },
      matrix: function() {
        typewriter([
          'wake up, Neo...',
          'the Matrix has you...',
          'follow the white rabbit.',
          '',
          'knock, knock.'
        ], 'bright', 1500);
      },
      ping: function(args) {
        var host = args[0] || 'dylic.dev';
        print('PING ' + esc(host) + ' (127.0.0.1): 56 bytes');
        print('64 bytes from 127.0.0.1: time=0.042ms');
        print('64 bytes from 127.0.0.1: time=0.037ms');
        print('64 bytes from 127.0.0.1: time=0.039ms');
        print('round-trip min/avg/max = 0.037/0.039/0.042 ms');
        if (host === 'dylic.dev') {
          print('yep, i\'m here.', 'dim');
        }
      },
      traceroute: function() {
        print(' 1  your-router (192.168.1.1)  1.234 ms');
        print(' 2  isp-gateway (10.0.0.1)  12.345 ms');
        print(' 3  * * *');
        print(' 4  * * *');
        print(' 5  vercel-edge (76.76.21.21)  23.456 ms');
        print(' 6  dylic.dev (127.0.0.1)  0.001 ms');
        print('');
        print('(none of this is real but it looks cool, right?)', 'dim');
      },
      ifconfig: function() {
        print('lo0: flags=8049 mtu 16384');
        print('     inet 127.0.0.1 netmask 0xff000000');
        print('fake0: flags=8863 mtu 1500');
        print('     inet 192.168.1.404 netmask 0xffffff00');
        print('     ether de:ad:be:ef:ca:fe');
      },
      ip: function(args) {
        if (args[0] === 'addr' || args[0] === 'a') {
          commands.ifconfig([]);
        } else {
          print('ip: try "ip addr"', 'dim');
        }
      },
      dig: function() {
        print(';; ANSWER SECTION:');
        print('dylic.dev.    300    IN    A    76.76.21.21');
        print('dylic.dev.    300    IN    AAAA    ::1');
        print('');
        print(';; Query time: 0 msec (it\'s fake)');
        print(';; SERVER: 127.0.0.1#53');
      },
      whois: function(args) {
        if (!args[0] || args[0] === 'dylic.dev') {
          print('Domain Name: DYLIC.DEV');
          print('Registrar: the internet');
          print('Creation Date: a while ago');
          print('Registrant: someone who likes easter eggs too much');
        } else {
          print('whois: ' + esc(args[0]) + ': look it up yourself', 'dim');
        }
      },
      neofetch: function() {
        print('<span class="bright">       ____</span>        <span class="blue">visitor@dylic.dev</span>');
        print('<span class="bright">      |  _ \\</span>       ----------------');
        print('<span class="bright">      | | | |</span>      OS: the internet');
        print('<span class="bright">      | |_| |</span>      Host: vercel');
        print('<span class="bright">      |____/</span>       Kernel: html/css/js');
        print('<span class="bright">                </span>   Uptime: since you got here');
        print('<span class="bright">                </span>   Packages: 0 (static site)');
        print('<span class="bright">                </span>   Shell: this fake one');
        print('<span class="bright">                </span>   Theme: hacker green');
        print('<span class="bright">                </span>   Terminal: the one you\'re in');
        print('<span class="bright">                </span>   CPU: your browser (sorry)');
        print('<span class="bright">                </span>   Memory: however much chrome is eating');
      },
      screenfetch: function() {
        commands.neofetch([]);
      },
      tree: function() {
        print('.');
        print('|-- index.html');
        print('|-- style.css');
        print('|-- favicon.svg');
        print('|-- og-image.png');
        print('|-- .hidden');
        print('|-- .env');
        print('|-- robots.txt');
        print('|-- humans.txt');
        print('|-- todo.txt');
        print('|-- 404.html');
        print('|-- src/');
        print('|   |-- easter-eggs.js');
        print('|   |-- terminal.js');
        print('|   \\-- secrets.js');
        print('\\-- logs/');
        print('    |-- access.log');
        print('    \\-- error.log');
        print('');
        print('2 directories, 13 files');
      },
      yes: function(args) {
        var msg = args.join(' ') || 'y';
        for (var i = 0; i < 20; i++) {
          printSafe(msg);
        }
        print('(...ok i stopped. you get the idea.)', 'dim');
      },
      sl: function() {
        print('        ====        ________                ___________');
        print('    _D _|  |_______/        \\__I_I_____===__|_________|');
        print('     |(_)---  |   H\\________/ |   |        =|___ ___|');
        print('     /     |  |   H  |  |     |   |         ||_| |_||');
        print('    |      |  |   H  |__--------------------| [___] |');
        print('    | ________|___H__/__|_____/[][]~\\_______|       |');
        print('    |/ |   |-----------I_____I [][] []  D   |=======|__');
        print('  __/ =| o |=-~~\\  /~~\\  /~~\\  /~~\\ ____Y___________|__');
        print(' |/-=|___|=    ||    ||    ||    |_____/~\\___/');
        print('  \\_/      \\O=====O=====O=====O_____/  \\___/');
        print('');
        print('you meant "ls", right?', 'dim');
      },
      figlet: function(args) {
        var msg = args.join(' ') || 'dylic';
        if (msg === 'dylic') {
          print('     _       _ _');
          print('  __| |_   _| (_) ___');
          print(' / _` | | | | | |/ __|');
          print('| (_| | |_| | | | (__');
          print(' \\__,_|\\__, |_|_|\\___|');
          print('       |___/');
        } else {
          print('figlet: i only know how to draw "dylic". try that.', 'dim');
        }
      },
      bc: function() {
        print('bc 1.0 (fake edition)');
        print('type "quit" to exit. or don\'t. i\'m not your boss.', 'dim');
        print('(i can\'t actually do math. try wolfram alpha.)', 'dim');
      },
      python: function() {
        print('Python 3.11.0 (fake)');
        print('Type "exit()" to exit.');
        print('>>> print("this isn\'t real python")');
        print('this isn\'t real python');
        print('>>> exit()', 'dim');
      },
      node: function() {
        print('Welcome to Node.js v20.0.0 (fake).');
        print('> console.log("hello from a pretend REPL")');
        print('hello from a pretend REPL');
        print('> .exit', 'dim');
      },
      ruby: function() {
        print('you want Ruby? in this economy?', 'pink');
      },
      php: function() {
        print('<?php echo "please no"; ?>', 'red');
      },
      java: function() {
        print('Exception in thread "main" java.lang.UnsupportedOperationException:', 'red');
        print('    at FakeTerminal.java:1', 'red');
        print('    at PortfolioSite.main(PortfolioSite.java:42)', 'red');
        print('');
        print('(this is a joke about how verbose Java errors are.)', 'dim');
      },
      rust: function() {
        print('error[E0308]: this is a browser, not a systems language', 'red');
        print('  --> terminal.html:1:1');
        print('   |');
        print('1  | let browser = "chrome";');
        print('   |                ^^^^^^^ expected `rust`, found `javascript`');
      },
      go: function() {
        print('go: this isn\'t Go. but here\'s a goroutine for moral support:', 'dim');
        print('go func() { fmt.Println("you\'re doing great") }()');
      },
      make: function(args) {
        if (args[0] === 'love') {
          print('make: *** No rule to make target \'love\'. Stop.', 'red');
          print('(make: but you can make friends: dylicdev@gmail.com)', 'dim');
        } else if (args[0] === 'money') {
          print('make: *** No rule to make target \'money\'. Stop.', 'red');
          print('(if you figure this one out, let me know.)', 'dim');
        } else if (args[0] === 'sandwich') {
          print('make: you\'re not sudo.', 'red');
        } else {
          print('make: *** No targets specified and no makefile found. Stop.', 'red');
        }
      },
      apt: function(args) {
        if (args[0] === 'install') {
          print('E: Unable to locate package ' + esc(args.slice(1).join(' ') || 'nothing'), 'red');
          print('(this is a browser. try npm. wait, that won\'t work either.)', 'dim');
        } else {
          print('apt: try "apt install something"', 'dim');
        }
      },
      brew: function(args) {
        if (args[0] === 'install') {
          print('Error: this is a terminal in a browser.', 'red');
          print('even homebrew can\'t help you here.', 'dim');
        } else {
          print('brew: what do you want to brew?', 'dim');
        }
      },
      npm: function(args) {
        if (args[0] === 'install' || args[0] === 'i') {
          print('added 0 packages in 0s');
          print('');
          print('(there\'s no node_modules here. bliss.)', 'dim');
        } else if (args[0] === 'run' && args[1] === 'dev') {
          print('you\'re already looking at the dev environment.', 'dim');
        } else {
          print('npm: try "npm install" or "npm run dev"', 'dim');
        }
      },
      exit: function() {
        print('leaving so soon?', 'dim');
        setTimeout(function() { window.location.href = '/'; }, 1500);
      },
      logout: function() {
        commands.exit([]);
      },
      clear: function() {
        output.innerHTML = '';
      },
      reset: function() {
        output.innerHTML = '';
        print('dylic.dev terminal v2.0.0', 'bright');
        print('type "help" to see available commands.', 'dim');
        print('');
      },
      rickroll: function() {
        print('never gonna give you up', 'bright');
        print('never gonna let you down', 'bright');
        print('never gonna run around and desert you', 'bright');
        print('');
        print('you asked for this.', 'dim');
      },
      xkcd: function() {
        var comics = [
          'there are only two hard problems in computer science: cache invalidation, naming things, and off-by-one errors.',
          'a programmer had a problem. they decided to use regex. now they have two problems.',
          'in a world without fences, who needs gates?',
          'i don\'t always test my code, but when i do, i do it in production.',
          'it works on my machine. ship it.',
        ];
        print(randomFrom(comics), 'yellow');
      },
    };

    var startTime = Date.now();

    function handleTab() {
      var val = input.value;
      if (!val) return;
      var matches = [];
      var cmdNames = Object.keys(commands);
      for (var i = 0; i < cmdNames.length; i++) {
        if (cmdNames[i].indexOf(val.toLowerCase()) === 0) {
          matches.push(cmdNames[i]);
        }
      }
      if (matches.length === 1) {
        input.value = matches[0] + ' ';
      } else if (matches.length > 1) {
        print('<span class="user">visitor@dylic.dev</span><span class="sep">:</span><span class="path">~</span><span class="dollar">$</span> ' + esc(val));
        printSafe(matches.join('  '));
        print('');
      }
    }

    input.addEventListener('keydown', function(e) {
      if (e.key === 'Tab') {
        e.preventDefault();
        handleTab();
        return;
      }
      if (e.key === 'Enter') {
        var val = input.value.trim();
        if (val) {
          cmdHistory.unshift(val);
          historyIdx = -1;

          print('<span class="user">visitor@dylic.dev</span><span class="sep">:</span><span class="path">~</span><span class="dollar">$</span> ' + esc(val));

          var attack = detectAttack(val);
          if (attack) {
            handleAttack(attack);
            print('');
            input.value = '';
            return;
          }

          var parts = val.split(/\s+/);
          var cmd = parts[0].toLowerCase();
          var args = parts.slice(1);
          if (commands[cmd]) {
            commands[cmd](args);
          } else if (val === 'rm -rf /') {
            commands['rm'](['-rf', '/']);
          } else {
            print(esc(cmd) + ': command not found. try "help".', 'red');
          }
          print('');
        }
        input.value = '';
        var cursor = document.querySelector('.cursor');
        if (cursor) cursor.style.display = 'inline-block';
      } else if (e.key === 'ArrowUp') {
        e.preventDefault();
        if (historyIdx < cmdHistory.length - 1) {
          historyIdx++;
          input.value = cmdHistory[historyIdx];
        }
      } else if (e.key === 'ArrowDown') {
        e.preventDefault();
        if (historyIdx > 0) {
          historyIdx--;
          input.value = cmdHistory[historyIdx];
        } else {
          historyIdx = -1;
          input.value = '';
        }
      } else if (e.key === 'l' && e.ctrlKey) {
        e.preventDefault();
        commands.clear();
      } else if (e.key === 'c' && e.ctrlKey) {
        e.preventDefault();
        print('<span class="user">visitor@dylic.dev</span><span class="sep">:</span><span class="path">~</span><span class="dollar">$</span> ' + esc(input.value) + '^C');
        input.value = '';
      }
    });

    document.addEventListener('click', function() { input.focus(); });
    input.addEventListener('input', function() {
      var cursor = document.querySelector('.cursor');
      if (cursor) cursor.style.display = input.value ? 'none' : 'inline-block';
    });
    input.addEventListener('focus', function() {
      var cursor = document.querySelector('.cursor');
      if (cursor && !input.value) cursor.style.display = 'inline-block';
    });
  </script>
</body>
</html>
